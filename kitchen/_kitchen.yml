driver:
  name: terraform
  root_module_directory: test/fixtures/default
  command_timeout: 1200

provisioner:
  name: terraform

verifier:
  name: terraform
  systems:
    - name: vm # this session will target the node config
      backend: ssh
      port: 22
      hosts_output: vm_private_ip # output from test module
      user: exampletestadmin # output from test module
      sudo: true
      key_files:
        - test/fixtures/example-test/.ssh/example_key # created in the test module
      controls:
        - example-vm # this looks for that list of control names in the profile in test/integration/<suite-name>
    - name: azure # this session will target the Azure subscription
      backend: azure
      controls:
        - example-azure-resources # this looks for that list of control names in the profile in test/integration/<suite-name>

platforms:
  - name: terraform

suites:
  - name: default